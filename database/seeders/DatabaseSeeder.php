<?php

namespace Database\Seeders;

use App\Models\Station;
use App\Models\User;
// use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\Hash;

class DatabaseSeeder extends Seeder
{
    /**
     * ุชุญููู ุฅุญุฏุงุซูุงุช Palestine Grid 1923 ุฅูู WGS84
     */
    private function convertToWGS84($x, $y): array
    {
        // ุชูุฑูุจ ููุชุญููู ูู Palestine Grid ุฅูู WGS84
        // ูุฐู ุงูููู ุชูุฑูุจูุฉ ูููุทูุฉ ุบุฒุฉ
        $lat = 31.0 + ($y - 75000) / 111000;
        $lng = 34.2 + ($x - 78000) / 95000;

        return [round($lat, 6), round($lng, 6)];
    }

    /**
     * Seed the application's database.
     */
    public function run(): void
    {
        // ุฅูุดุงุก ุญุณุงุจ ุงูุฃุฏูู
        User::updateOrCreate(
            ['email' => 'admin@gis.com'],
            [
                'name' => 'ูุฏูุฑ ุงููุธุงู',
                'email' => 'admin@gis.com',
                'password' => Hash::make('admin123'),
            ]
        );

        $this->command->info('โ ุชู ุฅูุดุงุก ุญุณุงุจ ุงูุฃุฏูู:');
        $this->command->info('   ุงูุจุฑูุฏ: admin@gis.com');
        $this->command->info('   ูููุฉ ุงููุฑูุฑ: admin123');

        // ุญุฐู ุงููุญุทุงุช ุงููุฏููุฉ
        Station::truncate();

        // ========== ูุญุทุงุช ุงููููุฏ ==========
        $fuelStations = [
            ['name_ar' => 'ูุญุทุฉ ุนุจุงุณ ูููุงูู ููุจุชุฑูู', 'x' => 102224.278286, 'y' => 106367.37379500001],
            ['name_ar' => 'ูุญุทุฉ ูููุฏ', 'x' => 103162.42318899999, 'y' => 105669.940365],
            ['name_ar' => 'ูุญุทุฉ ุนูููุฉ ููุจุชุฑูู', 'x' => 96816.706521700005, 'y' => 104120.646202],
            ['name_ar' => 'ูุญุทุฉ ุงููุฏูุนุฉ ููุจุชุฑูู', 'x' => 100218.69012100001, 'y' => 106407.346032],
            ['name_ar' => 'ูุญุทุฉ ููุณุทูู', 'x' => 102218.467063, 'y' => 104829.76819],
            ['name_ar' => 'ูุญุทุฉ ุฃุจูุนุงุตู ููุจุชุฑูู', 'x' => 98464.025018700006, 'y' => 102600.82926899999],
            ['name_ar' => 'ูุญุทุฉ ุงุจู ุฌุจุฉ ููุจุชุฑูู', 'x' => 100024.862876, 'y' => 101037.715684],
            ['name_ar' => 'ูุญุทุฉ ุงูุจุฑุจุฑู ููุจุชุฑูู', 'x' => 98451.138228800002, 'y' => 103232.21492300001],
            ['name_ar' => 'ุดุฑูุฉ ุถุจุงู ูุชุนุจุฆุฉ ุงูุบุงุฒ', 'x' => 92333.150284799995, 'y' => 94520.573494099997],
            ['name_ar' => 'ูุญุทุฉ ุฃุจูุนุงุตู', 'x' => 92406.688960400003, 'y' => 94466.432601399996],
            ['name_ar' => 'ูุญุทุฉ ุนุจูุฏ ููุจุชุฑูู', 'x' => 99368.679441, 'y' => 98770.289019599993],
            ['name_ar' => 'ูุญุทุฉ ุฃุจูุฌุจุฉ ููุบุงุฒ ูุงูุจุชุฑูู', 'x' => 99978.981147600003, 'y' => 99209.517194600005],
            ['name_ar' => 'ูุญุทุฉ ูููุฏ', 'x' => 93033.307992500006, 'y' => 95125.723350800006],
            ['name_ar' => 'ูุญุทุฉ ุฃุจูุฌุจุฉ ุงูุจุชุฑูู', 'x' => 101060.38235099999, 'y' => 99936.986215800003],
            ['name_ar' => 'ูุญุทุฉ ุตูุงุญ ุงูุฏูู ููุจุชุฑูู', 'x' => 102473.732993, 'y' => 103746.84074],
            ['name_ar' => 'ูุญุทุฉ ุงูุดูุฎ ุนุฌููู ูููููุฏ', 'x' => 93327.293023699996, 'y' => 100149.547464],
            ['name_ar' => 'ูุญุทุฉ ุนุงุดูุฑ ูุฏููู ููุจุชุฑูู', 'x' => 98487.5720592, 'y' => 100758.409455],
            ['name_ar' => 'ูุญุทุฉ ุงููููู ููุจุชุฑูู', 'x' => 98715.264061599999, 'y' => 101362.37907900001],
            ['name_ar' => 'ูุญุทุฉ ูุงูุง ููุจุชุฑูู', 'x' => 100744.043493, 'y' => 102885.17598],
            ['name_ar' => 'ูุญุทุฉ ูุฑุทุงุฌ ููุจุชุฑูู', 'x' => 101426.52036900001, 'y' => 103296.580053],
            ['name_ar' => 'ุดุฑูุฉ ุนูู ุงุจู ุฌุจุฉ ููุจุชุฑูู', 'x' => 101282.46845, 'y' => 103045.96337500001],
            ['name_ar' => 'ูุญุทุฉ ุจูููู ููุจุชุฑูู', 'x' => 96776.751130699995, 'y' => 104414.162385],
            ['name_ar' => 'ูุญุทุฉ ุงูุณุฏุฑุฉ ููุจุชุฑูู', 'x' => 99261.593287399999, 'y' => 102156.478057],
            ['name_ar' => 'ูุญุทุฉ ุฏุบูุด ููุจุชุฑูู', 'x' => 97343.523641099993, 'y' => 101758.14684299999],
            ['name_ar' => 'ูุญุทุฉ ุงููุงูุฑุฉ ููุจุชุฑูู', 'x' => 97993.557338300001, 'y' => 102080.115316],
            ['name_ar' => 'ูุญุทุฉ ุชูุฑุงุฒ ููุจุชุฑูู', 'x' => 99399.3441819, 'y' => 104227.41278],
            ['name_ar' => 'ูุญุทุฉ ุงูุบูู ููุจุชุฑูู', 'x' => 97372.744837799997, 'y' => 104649.601146],
            ['name_ar' => 'ุดุฑูุฉ ุดุนุช ููุจุชุฑูู', 'x' => 98519.288625600006, 'y' => 102236.40321],
            ['name_ar' => 'ูุญุทุฉ ูุฑุทุงุฌ ููุจุชุฑูู 2', 'x' => 101421.38952500001, 'y' => 103303.51117100001],
            ['name_ar' => 'ูุญุทุฉ ุณุฑุฏุงุญ ููุจุชุฑูู', 'x' => 101993.11444999999, 'y' => 105582.93950199999],
            ['name_ar' => 'ูุญุทุฉ ุงูุฏุญุฏูุญ', 'x' => 96518.749248199994, 'y' => 101224.02677900001],
            ['name_ar' => 'ูุญุทุฉ ุงูุณูุงู ููุจุชุฑูู', 'x' => 99430.228956299994, 'y' => 102826.88806],
            ['name_ar' => 'ูุญุทุฉ ุงูุญูู ููุจุชุฑูู', 'x' => 99516.591471599997, 'y' => 105734.482571],
            ['name_ar' => 'ูุญุทุฉ ุงูุฎุฒูุฏุงุฑ ููุจุชุฑูู', 'x' => 97306.243392699995, 'y' => 103745.582391],
            ['name_ar' => 'ูุญุทุฉ ุชุฑุฒู ููุจุชุฑูู', 'x' => 96542.222560900002, 'y' => 103163.21113700001],
            ['name_ar' => 'ูุญุทุฉ ุงููุงุฏุณูุฉ', 'x' => 105206.509726, 'y' => 106121.40521500001],
            ['name_ar' => 'ูุญุทุฉ ุงูุญุฌุงุฒ ููุจุชุฑูู', 'x' => 98313.485415100004, 'y' => 102335.859031],
            ['name_ar' => 'ูุญุทุฉ ุตุงูู ููุจุชุฑูู', 'x' => 101338.105262, 'y' => 105080.380135],
            ['name_ar' => 'ูุญุทุฉ ุงูุฌุนู ููุจุชุฑูู', 'x' => 85158.462174100001, 'y' => 84450.376347400001],
            ['name_ar' => 'ูุญุทุฉ ุงูุฌุนู ููุจุชุฑูู 2', 'x' => 85271.836456499994, 'y' => 84580.948449000003],
            ['name_ar' => 'ูุญุทุฉ ูุญูุฏ ูุญุงูุธ ุงุณููู ููุจุชุฑูู', 'x' => 85326.670281900006, 'y' => 84701.2398178],
            ['name_ar' => 'ูุญุทุฉ ุฎุงููููุณ ููุจุชุฑูู', 'x' => 85513.748112200003, 'y' => 85962.496407800005],
            ['name_ar' => 'ุดุฑูุฉ ุงูุชุนุงูู ูููุญุฑููุงุช', 'x' => 86514.687356599999, 'y' => 87015.430658199999],
            ['name_ar' => 'ูุญุทุฉ ุงููุฏุณ ููุจุชุฑูู', 'x' => 86719.144859000007, 'y' => 87606.022104699994],
            ['name_ar' => 'ูุญุทุฉ ุนูููุฉ ููุบุงุฒ ูุงูุจุชุฑูู', 'x' => 88930.800561299999, 'y' => 90997.055372699993],
            ['name_ar' => 'ูุญุทุฉ ุจูููู ููุจุชุฑูู ูุงูุบุงุฒ', 'x' => 88561.296103100001, 'y' => 91729.774720100002],
            ['name_ar' => 'ุดุฑูุฉ ุงููุตุฏูุฑ ููุจุชุฑูู', 'x' => 90024.300837200004, 'y' => 92053.093211700005],
            ['name_ar' => 'ูุญุทุฉ ุนูููุฉ ููุจุชุฑูู', 'x' => 88151.317500699995, 'y' => 92884.572969600005],
            ['name_ar' => 'ูุญุทุฉ ุงูุณูุงุฑุญุฉ ูููููุฏ', 'x' => 90318.268531599999, 'y' => 94897.513044399995],
            ['name_ar' => 'ุดุฑูุฉ ุงููุตุฏุฑ ููุจุชุฑูู', 'x' => 88109.603277600007, 'y' => 93996.779101399996],
            ['name_ar' => 'ูุญุทุฉ ุจูููู', 'x' => 83078.187797199993, 'y' => 84357.385117800004],
            ['name_ar' => 'ูุญุทุฉ ุงูุณุทุฑู ููุจุชุฑูู', 'x' => 81407.656544500001, 'y' => 79915.128521699997],
            ['name_ar' => 'ูุญุทุฉ ุงูุนูุฏุฉ ูููููุฏ', 'x' => 80281.834613500003, 'y' => 78336.955124],
            ['name_ar' => 'ูุญุทุฉ ุนูููุฉ', 'x' => 79517.177094400002, 'y' => 77389.127754200003],
            ['name_ar' => 'ูุญุทุฉ ุงูุงูููุฉ', 'x' => 78596.795075600006, 'y' => 76644.529715800003],
            ['name_ar' => 'ูุญุทุฉ ุงูุงูููุฉ 2', 'x' => 78991.001441300003, 'y' => 76552.519685399995],
            ['name_ar' => 'ูุญุทุฉ ุงูุนููุฑ ููุจุชุฑูู', 'x' => 84897.508137700002, 'y' => 78534.893204499997],
            ['name_ar' => 'ูุญุทุฉ ุงููุงุฑุณ ููุจุชุฑูู', 'x' => 84875.228273000001, 'y' => 81046.8845898],
            ['name_ar' => 'ูุญุทุฉ ุงูุงูุตู', 'x' => 78127.2212631, 'y' => 78412.123932799994],
            ['name_ar' => 'ูุญุทุฉ ููุณู ุญุงูุฏ ุจูููู ููุจุชุฑูู', 'x' => 82839.821343400006, 'y' => 75990.803800900001],
            ['name_ar' => 'ูุญุทุฉ ุฃุจูุฏูุฉ ููุจุชุฑูู', 'x' => 86591.850515300001, 'y' => 82879.764762399995],
            ['name_ar' => 'ุฃุจูุญูุฏ ููุจุชุฑูู', 'x' => 87488.418342300007, 'y' => 82013.300351099999],
            ['name_ar' => 'ูุญุทุฉ ุญุฌุงุฒู', 'x' => 77893.504629400006, 'y' => 79124.064853799995],
            ['name_ar' => 'ูุญุทุฉ ูููุฏ ุฎุงููููุณ', 'x' => 84276.008918799998, 'y' => 76887.185439599998],
            ['name_ar' => 'ูุญุทุฉ ุงุจู ุฌุฑุงุฏ ููุจุชุฑูู', 'x' => 81526.956832099997, 'y' => 75516.411487599995],
            ['name_ar' => 'ูุญุทุฉ ุงูุนุจุงุฏูุฉ ูุงูุฃุณุทู', 'x' => 84354.2219396, 'y' => 83908.280507300005],
            ['name_ar' => 'ูุญุทุฉ ูุงุฑุณ ููุจุชุฑูู', 'x' => 82693.471264799999, 'y' => 82445.739048899995],
            ['name_ar' => 'ูุญุทุฉ ุงูุฃุณุทู ููุจุชุฑูู', 'x' => 82545.491302599999, 'y' => 88165.539972800005],
            ['name_ar' => 'ูุญุทุฉ ูุญุฑููุงุช ุงูููุงุตู', 'x' => 82188.199344399996, 'y' => 86968.816508400007],
            ['name_ar' => 'ูุญุทุฉ ุงูุงูู', 'x' => 82770.133338500003, 'y' => 85111.530444000004],
            ['name_ar' => 'ูุญุทุฉ ุดุจูุฑ ููุจุชุฑูู', 'x' => 84131.092590400003, 'y' => 83409.058668700003],
        ];

        foreach ($fuelStations as $station) {
            [$lat, $lng] = $this->convertToWGS84($station['x'], $station['y']);
            Station::create([
                'name' => $station['name_ar'],
                'type' => 'petrol',
                'status' => 'operational',
                'lat' => $lat,
                'lng' => $lng,
                'address' => 'ูุทุงุน ุบุฒุฉ',
                'description' => null,
                'prices' => null,
                'images' => null,
            ]);
        }

        $this->command->info('โ ุชู ุฅุถุงูุฉ ' . count($fuelStations) . ' ูุญุทุฉ ูููุฏ');

        // ========== ูุฑุงูุฒ ุงูุฏูุงุน ุงููุฏูู ==========
        $fireStations = [
            ['x' => 103801.84080000035, 'y' => 105991.23110000044],
            ['x' => 101108.58880000003, 'y' => 105206.36959999986],
            ['x' => 99683.366499999538, 'y' => 104970.78409999982],
            ['x' => 99501.650299999863, 'y' => 104619.41669999994],
            ['x' => 98265.832000000402, 'y' => 106184.69480000064],
            ['x' => 96281.114400000311, 'y' => 103807.03839999996],
            ['x' => 97355.832899999805, 'y' => 103167.38049999997],
            ['x' => 96338.137500000186, 'y' => 102355.76420000009],
            ['x' => 93081.37760000024, 'y' => 97795.931700000539],
            ['x' => 92561.438599999994, 'y' => 94888.26090000011],
            ['x' => 88390.803100000136, 'y' => 93325.893200000748],
            ['x' => 83049.172500000335, 'y' => 84342.064500000328],
            ['x' => 78181.993599999696, 'y' => 79797.677899999544],
            ['x' => 78795.669400000013, 'y' => 77182.054800000042],
            ['x' => 88691.842400000431, 'y' => 82761.946399999782],
        ];

        $fireStationNames = [
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุงูุดูุงู',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุชู ุงูููู',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุงูุฑูุงู',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุงูุดุฌุงุนูุฉ',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุงูุฒูุชูู',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุงูุตุจุฑุฉ',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุงููุตุฑ',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุงูุดูุฎ ุฑุถูุงู',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุงูุจุฑูุฌ',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุฏูุฑ ุงูุจูุญ',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุงููุบุงุฒู',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุฎุงููููุณ',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุฑูุญ ุงูุบุฑุจูุฉ',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุฑูุญ ุงูุดุฑููุฉ',
            'ูุฑูุฒ ุฏูุงุน ูุฏูู - ุงููุฑุงุฑุฉ',
        ];

        foreach ($fireStations as $index => $station) {
            [$lat, $lng] = $this->convertToWGS84($station['x'], $station['y']);
            Station::create([
                'name' => $fireStationNames[$index] ?? 'ูุฑูุฒ ุฏูุงุน ูุฏูู ' . ($index + 1),
                'type' => 'fire',
                'status' => 'operational',
                'lat' => $lat,
                'lng' => $lng,
                'address' => 'ูุทุงุน ุบุฒุฉ',
                'description' => 'ูุฑูุฒ ุฏูุงุน ูุฏูู ูุฅุทูุงุก',
                'prices' => null,
                'images' => null,
            ]);
        }

        $this->command->info('โ ุชู ุฅุถุงูุฉ ' . count($fireStations) . ' ูุฑูุฒ ุฏูุงุน ูุฏูู');
        $this->command->info('');
        $this->command->info('๐ ุชู ุงูุงูุชูุงุก ูู ุฅุถุงูุฉ ุฌููุน ุงูุจูุงูุงุช ุจูุฌุงุญ!');
    }
}
